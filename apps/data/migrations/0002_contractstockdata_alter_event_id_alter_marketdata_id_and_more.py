# Generated by Django 5.2.8 on 2025-11-15 08:55

from django.db import migrations, models


class Migration(migrations.Migration):

    dependencies = [
        ('data', '0001_initial'),
    ]

    operations = [
        migrations.CreateModel(
            name='ContractStockData',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True, help_text='Timestamp when the record was created')),
                ('updated_at', models.DateTimeField(auto_now=True, help_text='Timestamp when the record was last updated')),
                ('stock_name', models.CharField(max_length=100)),
                ('nse_code', models.CharField(max_length=20, unique=True)),
                ('bse_code', models.CharField(blank=True, max_length=20)),
                ('isin', models.CharField(blank=True, max_length=20)),
                ('current_price', models.FloatField()),
                ('industry_name', models.CharField(max_length=100)),
                ('annualized_volatility', models.FloatField()),
                ('fno_total_oi', models.BigIntegerField()),
                ('fno_prev_day_total_oi', models.BigIntegerField()),
                ('fno_total_put_oi', models.BigIntegerField()),
                ('fno_total_call_oi', models.BigIntegerField()),
                ('fno_prev_day_put_oi', models.BigIntegerField()),
                ('fno_prev_day_call_oi', models.BigIntegerField()),
                ('fno_total_put_vol', models.BigIntegerField()),
                ('fno_total_call_vol', models.BigIntegerField()),
                ('fno_prev_day_put_vol', models.BigIntegerField()),
                ('fno_prev_day_call_vol', models.BigIntegerField()),
                ('fno_mwpl', models.BigIntegerField()),
                ('fno_pcr_vol', models.FloatField()),
                ('fno_pcr_vol_prev', models.FloatField()),
                ('fno_pcr_vol_change_pct', models.FloatField()),
                ('fno_pcr_oi', models.FloatField()),
                ('fno_pcr_oi_prev', models.FloatField()),
                ('fno_pcr_oi_change_pct', models.FloatField()),
                ('fno_mwpl_pct', models.FloatField()),
                ('fno_mwpl_prev_pct', models.FloatField()),
                ('fno_total_oi_change_pct', models.FloatField()),
                ('fno_put_oi_change_pct', models.FloatField()),
                ('fno_call_oi_change_pct', models.FloatField()),
                ('fno_put_vol_change_pct', models.FloatField()),
                ('fno_call_vol_change_pct', models.FloatField()),
                ('fno_rollover_cost', models.FloatField()),
                ('fno_rollover_cost_pct', models.FloatField()),
                ('fno_rollover_pct', models.FloatField()),
            ],
            options={
                'db_table': 'contract_stock_data',
                'ordering': ['stock_name'],
            },
        ),
        migrations.AlterField(
            model_name='event',
            name='id',
            field=models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID'),
        ),
        migrations.AlterField(
            model_name='marketdata',
            name='id',
            field=models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID'),
        ),
        migrations.AlterField(
            model_name='optionchain',
            name='id',
            field=models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID'),
        ),
        migrations.CreateModel(
            name='ContractData',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True, help_text='Timestamp when the record was created')),
                ('updated_at', models.DateTimeField(auto_now=True, help_text='Timestamp when the record was last updated')),
                ('symbol', models.CharField(max_length=50)),
                ('option_type', models.CharField(max_length=10)),
                ('strike_price', models.FloatField(blank=True, null=True)),
                ('price', models.FloatField()),
                ('spot', models.FloatField()),
                ('expiry', models.CharField(max_length=50)),
                ('last_updated', models.CharField(max_length=50)),
                ('build_up', models.CharField(blank=True, max_length=100)),
                ('lot_size', models.IntegerField()),
                ('day_change', models.FloatField()),
                ('pct_day_change', models.FloatField()),
                ('open_price', models.FloatField()),
                ('high_price', models.FloatField()),
                ('low_price', models.FloatField()),
                ('prev_close_price', models.FloatField()),
                ('oi', models.BigIntegerField()),
                ('pct_oi_change', models.FloatField()),
                ('oi_change', models.BigIntegerField()),
                ('prev_day_oi', models.BigIntegerField()),
                ('traded_contracts', models.BigIntegerField()),
                ('traded_contracts_change_pct', models.FloatField()),
                ('shares_traded', models.BigIntegerField()),
                ('pct_volume_shares_change', models.FloatField()),
                ('prev_day_vol', models.BigIntegerField()),
                ('basis', models.FloatField(blank=True, null=True)),
                ('cost_of_carry', models.FloatField(blank=True, null=True)),
                ('iv', models.FloatField(blank=True, null=True)),
                ('prev_day_iv', models.FloatField(blank=True, null=True)),
                ('pct_iv_change', models.FloatField(blank=True, null=True)),
                ('delta', models.FloatField(blank=True, null=True)),
                ('vega', models.FloatField(blank=True, null=True)),
                ('gamma', models.FloatField(blank=True, null=True)),
                ('theta', models.FloatField(blank=True, null=True)),
                ('rho', models.FloatField(blank=True, null=True)),
            ],
            options={
                'db_table': 'contract_data',
                'ordering': ['symbol', 'expiry', 'strike_price'],
                'indexes': [models.Index(fields=['symbol', 'expiry', 'option_type'], name='contract_da_symbol_c7abfd_idx')],
            },
        ),
        migrations.CreateModel(
            name='TLStockData',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True, help_text='Timestamp when the record was created')),
                ('updated_at', models.DateTimeField(auto_now=True, help_text='Timestamp when the record was last updated')),
                ('stock_name', models.CharField(blank=True, max_length=100, null=True)),
                ('nsecode', models.CharField(blank=True, max_length=20, null=True, unique=True)),
                ('bsecode', models.CharField(blank=True, max_length=20, null=True)),
                ('isin', models.CharField(blank=True, max_length=20, null=True)),
                ('industry_name', models.CharField(blank=True, max_length=100, null=True)),
                ('sector_name', models.CharField(blank=True, max_length=100, null=True)),
                ('current_price', models.FloatField(blank=True, null=True)),
                ('market_capitalization', models.BigIntegerField(blank=True, null=True)),
                ('trendlyne_durability_score', models.FloatField(blank=True, null=True)),
                ('trendlyne_valuation_score', models.FloatField(blank=True, null=True)),
                ('trendlyne_momentum_score', models.FloatField(blank=True, null=True)),
                ('dvm_classification_text', models.CharField(blank=True, max_length=100, null=True)),
                ('prev_day_trendlyne_durability_score', models.FloatField(blank=True, null=True)),
                ('prev_day_trendlyne_valuation_score', models.FloatField(blank=True, null=True)),
                ('prev_day_trendlyne_momentum_score', models.FloatField(blank=True, null=True)),
                ('prev_week_trendlyne_durability_score', models.FloatField(blank=True, null=True)),
                ('prev_week_trendlyne_valuation_score', models.FloatField(blank=True, null=True)),
                ('prev_week_trendlyne_momentum_score', models.FloatField(blank=True, null=True)),
                ('prev_month_trendlyne_durability_score', models.FloatField(blank=True, null=True)),
                ('prev_month_trendlyne_valuation_score', models.FloatField(blank=True, null=True)),
                ('prev_month_trendlyne_momentum_score', models.FloatField(blank=True, null=True)),
                ('normalized_momentum_score', models.FloatField(blank=True, null=True)),
                ('operating_revenue_qtr', models.BigIntegerField(blank=True, null=True)),
                ('net_profit_qtr', models.BigIntegerField(blank=True, null=True)),
                ('revenue_qoq_growth_pct', models.FloatField(blank=True, null=True)),
                ('revenue_growth_qtr_yoy_pct', models.FloatField(blank=True, null=True)),
                ('net_profit_qtr_growth_yoy_pct', models.FloatField(blank=True, null=True)),
                ('net_profit_qoq_growth_pct', models.FloatField(blank=True, null=True)),
                ('operating_profit_margin_qtr_pct', models.FloatField(blank=True, null=True)),
                ('operating_profit_margin_qtr_1yr_ago_pct', models.FloatField(blank=True, null=True)),
                ('sector_revenue_growth_qtr_yoy_pct', models.FloatField(blank=True, null=True)),
                ('sector_net_profit_growth_qtr_yoy_pct', models.FloatField(blank=True, null=True)),
                ('sector_revenue_growth_qtr_qoq_pct', models.FloatField(blank=True, null=True)),
                ('sector_net_profit_growth_qtr_qoq_pct', models.FloatField(blank=True, null=True)),
                ('operating_revenue_ttm', models.BigIntegerField(blank=True, null=True)),
                ('net_profit_ttm', models.BigIntegerField(blank=True, null=True)),
                ('operating_revenue_annual', models.BigIntegerField(blank=True, null=True)),
                ('net_profit_annual', models.BigIntegerField(blank=True, null=True)),
                ('revenue_growth_annual_yoy_pct', models.FloatField(blank=True, null=True)),
                ('net_profit_annual_yoy_growth_pct', models.FloatField(blank=True, null=True)),
                ('sector_revenue_growth_annual_yoy_pct', models.FloatField(blank=True, null=True)),
                ('cash_from_financing_annual_activity', models.BigIntegerField(blank=True, null=True)),
                ('cash_from_investing_activity_annual', models.BigIntegerField(blank=True, null=True)),
                ('cash_from_operating_activity_annual', models.BigIntegerField(blank=True, null=True)),
                ('net_cash_flow_annual', models.BigIntegerField(blank=True, null=True)),
                ('latest_financial_result', models.CharField(blank=True, max_length=100, null=True)),
                ('result_announced_date', models.CharField(blank=True, max_length=100, null=True)),
                ('pe_ttm_price_to_earnings', models.FloatField(blank=True, null=True)),
                ('forecaster_estimates_1y_forward_pe', models.FloatField(blank=True, null=True)),
                ('pe_3yr_average', models.FloatField(blank=True, null=True)),
                ('pe_5yr_average', models.FloatField(blank=True, null=True)),
                ('pctdays_traded_below_current_pe_price_to_earnings', models.FloatField(blank=True, null=True)),
                ('sector_pe_ttm', models.FloatField(blank=True, null=True)),
                ('industry_pe_ttm', models.FloatField(blank=True, null=True)),
                ('peg_ttm_pe_to_growth', models.FloatField(blank=True, null=True)),
                ('forecaster_estimates_1y_forward_peg', models.FloatField(blank=True, null=True)),
                ('sector_peg_ttm', models.FloatField(blank=True, null=True)),
                ('industry_peg_ttm', models.FloatField(blank=True, null=True)),
                ('price_to_book_value', models.FloatField(blank=True, null=True)),
                ('pctdays_traded_below_current_price_to_book_value', models.FloatField(blank=True, null=True)),
                ('sector_price_to_book_ttm', models.FloatField(blank=True, null=True)),
                ('industry_price_to_book_ttm', models.FloatField(blank=True, null=True)),
                ('basic_eps_ttm', models.FloatField(blank=True, null=True)),
                ('eps_ttm_growth_pct', models.FloatField(blank=True, null=True)),
                ('roe_annual_pct', models.FloatField(blank=True, null=True)),
                ('sector_return_on_equity_roe', models.FloatField(blank=True, null=True)),
                ('industry_return_on_equity_roe', models.FloatField(blank=True, null=True)),
                ('roa_annual_pct', models.FloatField(blank=True, null=True)),
                ('sector_return_on_assets', models.FloatField(blank=True, null=True)),
                ('industry_return_on_assets', models.FloatField(blank=True, null=True)),
                ('piotroski_score', models.FloatField(blank=True, null=True)),
                ('day_mfi', models.FloatField(blank=True, null=True)),
                ('day_rsi', models.FloatField(blank=True, null=True)),
                ('day_macd', models.FloatField(blank=True, null=True)),
                ('day_macd_signal_line', models.FloatField(blank=True, null=True)),
                ('day_atr', models.FloatField(blank=True, null=True)),
                ('day_adx', models.FloatField(blank=True, null=True)),
                ('day_roc21', models.FloatField(blank=True, null=True)),
                ('day_roc125', models.FloatField(blank=True, null=True)),
                ('day5_sma', models.FloatField(blank=True, null=True)),
                ('day30_sma', models.FloatField(blank=True, null=True)),
                ('day50_sma', models.FloatField(blank=True, null=True)),
                ('day100_sma', models.FloatField(blank=True, null=True)),
                ('day200_sma', models.FloatField(blank=True, null=True)),
                ('day12_ema', models.FloatField(blank=True, null=True)),
                ('day20_ema', models.FloatField(blank=True, null=True)),
                ('day50_ema', models.FloatField(blank=True, null=True)),
                ('day100_ema', models.FloatField(blank=True, null=True)),
                ('beta_1month', models.FloatField(blank=True, null=True)),
                ('beta_3month', models.FloatField(blank=True, null=True)),
                ('beta_1year', models.FloatField(blank=True, null=True)),
                ('beta_3year', models.FloatField(blank=True, null=True)),
                ('pivot_point', models.FloatField(blank=True, null=True)),
                ('first_resistance_r1', models.FloatField(blank=True, null=True)),
                ('first_resistance_r1_to_price_diff_pct', models.FloatField(blank=True, null=True)),
                ('second_resistance_r2', models.FloatField(blank=True, null=True)),
                ('second_resistance_r2_to_price_diff_pct', models.FloatField(blank=True, null=True)),
                ('third_resistance_r3', models.FloatField(blank=True, null=True)),
                ('third_resistance_r3_to_price_diff_pct', models.FloatField(blank=True, null=True)),
                ('first_support_s1', models.FloatField(blank=True, null=True)),
                ('first_support_s1_to_price_diff_pct', models.FloatField(blank=True, null=True)),
                ('second_support_s2', models.FloatField(blank=True, null=True)),
                ('second_support_s2_to_price_diff_pct', models.FloatField(blank=True, null=True)),
                ('third_support_s3', models.FloatField(blank=True, null=True)),
                ('third_support_s3_to_price_diff_pct', models.FloatField(blank=True, null=True)),
                ('day_low', models.FloatField(blank=True, null=True)),
                ('day_high', models.FloatField(blank=True, null=True)),
                ('day_change_pct', models.FloatField(blank=True, null=True)),
                ('week_low', models.FloatField(blank=True, null=True)),
                ('week_high', models.FloatField(blank=True, null=True)),
                ('week_change_pct', models.FloatField(blank=True, null=True)),
                ('month_low', models.FloatField(blank=True, null=True)),
                ('month_high', models.FloatField(blank=True, null=True)),
                ('month_change_pct', models.FloatField(blank=True, null=True)),
                ('qtr_low', models.FloatField(blank=True, null=True)),
                ('qtr_high', models.FloatField(blank=True, null=True)),
                ('qtr_change_pct', models.FloatField(blank=True, null=True)),
                ('one_year_low', models.FloatField(blank=True, null=True)),
                ('one_year_high', models.FloatField(blank=True, null=True)),
                ('one_year_change_pct', models.FloatField(blank=True, null=True)),
                ('three_year_low', models.FloatField(blank=True, null=True)),
                ('three_year_high', models.FloatField(blank=True, null=True)),
                ('three_year_changep', models.FloatField(blank=True, null=True)),
                ('five_year_low', models.FloatField(blank=True, null=True)),
                ('five_year_high', models.FloatField(blank=True, null=True)),
                ('five_year_changep', models.FloatField(blank=True, null=True)),
                ('ten_year_low', models.FloatField(blank=True, null=True)),
                ('ten_year_high', models.FloatField(blank=True, null=True)),
                ('ten_year_changep', models.FloatField(blank=True, null=True)),
                ('day_volume', models.BigIntegerField(blank=True, null=True)),
                ('week_volume_avg', models.BigIntegerField(blank=True, null=True)),
                ('month_volume_avg', models.BigIntegerField(blank=True, null=True)),
                ('three_month_volume_avg', models.BigIntegerField(blank=True, null=True)),
                ('six_month_volume_avg', models.BigIntegerField(blank=True, null=True)),
                ('year_volume_avg', models.BigIntegerField(blank=True, null=True)),
                ('consolidated_eod_volume', models.BigIntegerField(blank=True, null=True)),
                ('consolidated_prev_eod_volume', models.BigIntegerField(blank=True, null=True)),
                ('consolidated_5day_avg_eod_volume', models.BigIntegerField(blank=True, null=True)),
                ('consolidated_30day_avg_eod_volume', models.BigIntegerField(blank=True, null=True)),
                ('consolidated_6m_avg_eod_volume', models.BigIntegerField(blank=True, null=True)),
                ('day_volume_multiple_of_week', models.FloatField(blank=True, null=True)),
                ('vol_day_times_vol_week_str', models.CharField(blank=True, max_length=100, null=True)),
                ('consolidated_day_volume', models.BigIntegerField(blank=True, null=True)),
                ('vwap_day', models.FloatField(blank=True, null=True)),
                ('delivery_volume_pct_eod', models.FloatField(blank=True, null=True)),
                ('delivery_volume_pct_prev_eod', models.FloatField(blank=True, null=True)),
                ('delivery_volume_avg_week', models.FloatField(blank=True, null=True)),
                ('delivery_volume_avg_month', models.FloatField(blank=True, null=True)),
                ('delivery_volume_avg_6month', models.FloatField(blank=True, null=True)),
                ('delivery_volume_eod', models.BigIntegerField(blank=True, null=True)),
                ('delivery_volume_avg_week_qty', models.BigIntegerField(blank=True, null=True)),
                ('promoter_holding_latest_pct', models.FloatField(blank=True, null=True)),
                ('promoter_holding_change_qoq_pct', models.FloatField(blank=True, null=True)),
                ('promoter_holding_change_4qtr_pct', models.FloatField(blank=True, null=True)),
                ('promoter_holding_change_8qtr_pct', models.FloatField(blank=True, null=True)),
                ('promoter_pledge_pct_qtr', models.FloatField(blank=True, null=True)),
                ('promoter_pledge_change_qoq_pct', models.FloatField(blank=True, null=True)),
                ('mf_holding_current_qtr_pct', models.FloatField(blank=True, null=True)),
                ('mf_holding_change_qoq_pct', models.FloatField(blank=True, null=True)),
                ('mf_holding_change_1month_pct', models.FloatField(blank=True, null=True)),
                ('mf_holding_change_2month_pct', models.FloatField(blank=True, null=True)),
                ('mf_holding_change_3month_pct', models.FloatField(blank=True, null=True)),
                ('mf_holding_change_4qtr_pct', models.FloatField(blank=True, null=True)),
                ('mf_holding_change_8qtr_pct', models.FloatField(blank=True, null=True)),
                ('fii_holding_current_qtr_pct', models.FloatField(blank=True, null=True)),
                ('fii_holding_change_qoq_pct', models.FloatField(blank=True, null=True)),
                ('fii_holding_change_4qtr_pct', models.FloatField(blank=True, null=True)),
                ('fii_holding_change_8qtr_pct', models.FloatField(blank=True, null=True)),
                ('institutional_holding_current_qtr_pct', models.FloatField(blank=True, null=True)),
                ('institutional_holding_change_qoq_pct', models.FloatField(blank=True, null=True)),
                ('institutional_holding_change_4qtr_pct', models.FloatField(blank=True, null=True)),
                ('institutional_holding_change_8qtr_pct', models.FloatField(blank=True, null=True)),
            ],
            options={
                'db_table': 'tl_stock_data',
                'ordering': ['stock_name'],
                'indexes': [models.Index(fields=['nsecode'], name='tl_stock_da_nsecode_c08e6b_idx'), models.Index(fields=['sector_name'], name='tl_stock_da_sector__765081_idx'), models.Index(fields=['industry_name'], name='tl_stock_da_industr_2c609b_idx')],
            },
        ),
    ]
